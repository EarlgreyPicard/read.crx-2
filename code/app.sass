$z-index_left_pane: 1
$z-index_tab_content: 0
$z-index_selected_tab_content: 1

$z-index_view_config: 2

$z-index_notification: 3



@mixin ascii_art
  :font
    :size 16px
    :family "ＭＳ Ｐゴシック","konatu"
  :line-height 18px

@mixin drop_shadow
  :box-shadow 0 1px 4px rgba(#000, 0.6)

@mixin ui_accordion
  :-webkit-user-select none
  :font-size 14px
  :background-color #ddd
  h3
    :cursor pointer
    :background-color #ddd
    :font
      :size inherit
      :weight inherit
    :margin 0
    :padding 0 0 0 10px
    :line-height 1.3em
    &:hover
      :background-color #bbb
    &:active
      :background-color #aaa
    &.accordion_open
      :color #fff
      :background-color #666
  ul
    :background-color #f5f5f5
    :margin 0
    :padding 5px 0
    :box-shadow inset 0 1px 3px rgba(0,0,0,0.4)
  a
    :display block
    :color inherit
    :text-decoration none
    :margin 0 5px
    :padding 0 5px
    &:hover
      :background-color #ddd
      :box-shadow 0 0 5px #ddd

@mixin ui_tab
  :display -webkit-box
  :-webkit-box-orient vertical
  :padding 3px
  .tab_tabbar
    :position relative
    :margin 0
    :padding 3px 3px 0 3px
    :min-height 26px

    :background-image -webkit-linear-gradient(#e3e3e3, #ccc)
    :list-style-type none

    :font-size 14px
    :line-height 1.3

    :border-radius 4px
    :border 1px solid #aaa

    :-webkit-user-select none

    :color #000

    li
      :float left
      :position relative

      :max-width 13em
      :overflow hidden
      :text-overflow ellipsis
      :white-space nowrap

      :margin-right 3px
      :padding 3px 7px
      :border
        :style solid
        :width 1px 1px 0 1px
      :border-top-left-radius 4px
      :border-top-right-radius 4px
      :min-width 1em
      :min-height 1em
      :top 1px
      &
        :background-color rgba(#fff, 0.6)
        :border
          :color #ccc
          :bottom 1px solid #aaa
      &.tab_selected
        :background-color #fff
        :border
          :color #aaa
          :bottom none
        :padding-bottom 4px
      img
        :visibility hidden
        :position absolute
        :right 0
        :top 0
        :cursor pointer
        :background-color #a55
        :border-radius 3px
      &:hover img
        :visibility visible
  .tab_container
    :-webkit-box-flex 1
    :overflow hidden
    :position relative
    > *
      :position absolute
      :width 100%
      :height 100%
      :z-index $z-index_tab_content
      :visibility hidden
      &.tab_selected
        :z-index $z-index_selected_tab_content
        :visibility visible

@mixin ui_tablesorter
  th.tablesorter_sort_asc:after
    :content "↑"
  th.tablesorter_sort_desc:after
    :content "↓"

@mixin message_bar
  .message_bar
    :font-size 13px
    &.loading
      :padding 3px
    &.info
      :padding 3px
      :background-color #eef
      :border 1px solid #ccd
    &.error
      :padding 3px
      :background-color #ecc
      :border 1px solid #ebb

@mixin content_table
  table
    :font-size 13px
    :border-collapse collapse
  thead
    :background-color #f9f9f9
  tr
    :border-bottom 1px solid #ddd
  th
    :padding 3px
    :font-size 12px
    :font-weight normal
    :border-right 1px solid #ddd
    :white-space nowrap
    :cursor pointer
  tbody tr
    :cursor pointer
    &:hover
      :background-color #e8e8e8
  td
    :padding 2px
    :white-space nowrap

@mixin view_board
  @include ui_tablesorter
  @include message_bar
  @include content_table
  :overflow-y auto
  th
    &:nth-child(1)
      :width 1em
    &:nth-child(3)
      :width 4em
    &:nth-child(4)
      :width 3em
    &:nth-child(5)
      :width 4em
    &:nth-child(6)
      :width 16em
    &:hover
      background-color: #e8e8e8

@mixin view_history
  @include content_table
  :overflow-y auto

@mixin view_thread
  @include message_bar
  :font-size 14px
  :overflow-y auto
  article
    :margin 5px
    .num
      &:after
        :content ' '
    .name
      :color #008000
    .mail
      &:before
        :content ' ['
      &:after
        :content '] '
    .other
      :color #333
    &.aa
      .message
        @include ascii_art

@mixin view_config
  :position absolute
  :left 0
  :top 0
  :width 100%
  :height 100%
  :z-index $z-index_view_config
  :background-color rgba(#000, 0.3)
  :color #fff
  > div
    :position relative
    :margin 10px
    :background-color rgba(#000, 0.8)
    :border-radius 4px
    @include drop_shadow
    .close_button
      :position absolute
      :right 5px
      :top 5px
      :border 2px solid #fff
        :radius 3px
      :opacity 0.8
      :-webkit-transition opacity 200ms
      :cursor pointer
      &:hover
        :opacity 0.9
  h2
    :margin 5px
    :padding 5px
    :font-size 18px
    :color #eee
    :border-bottom 2px solid #eee
  label
    :cursor pointer

body
  :position relative
  :margin 0

html, body, #body
  :width 100%
  :height 100%

.view_config
  @include view_config

#body
  :position relative
  :color #222
  #left_pane
    :position absolute
    :width 135px
    :height 100%
    :overflow-y auto
    :z-index $z-index_left_pane
    @include ui_accordion
  #right_pane
    :box-sizing border-box
    :position absolute
    :padding-left 135px
    :width 100%
    :height 100%
    .view_board
      @include view_board
    .view_thread
      @include view_thread
    .view_history
      @include view_history

#body.pane-3
  #right_pane
    :display -webkit-box
    :-webkit-box-orient vertical
    #tab_a
      :height 50%
    #tab_b
      :-webkit-box-flex 1

#tab_a, #tab_b
  @include ui_tab

#tab_resizer
  :cursor row-resize
  :height 5px
  :background-color #ddd

#app_notice_container
  :position fixed
  :left 5%
  :top 5px
  :width 80%
  :z-index $z-index_notification

  > div
    :background-color #222
    :color #eee
    :margin-bottom 5px
    :padding 5px 10px
    :border-radius 5px
    @include drop_shadow

    :display -webkit-box

    div
      :-webkit-box-flex 1

    button
      :cursor pointer
      :width 16px
      :height 16px
      :background-image url(/img/close_16x16.png)
      :background-color transparent
      :border none

